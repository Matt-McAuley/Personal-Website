<!doctype html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Projects</title>
  <link href="projects.css" rel="stylesheet">
  <link href="../bootstrap.css" rel="stylesheet">
</head>

<body>
<div class="projects-page">
  <nav class="navbar sticky-top navbar-expand-lg bg-body-tertiary p-3" style="border-bottom: 3px solid black !important;">
    <div class="container-fluid">
      <span class="navbar-brand ms-5" style="font-size: 30px !important">Matthew McAuley</span>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto me-5" style="font-size: 20px !important">
          <li class="nav-item mx-4">
            <a class="nav-link" href="../about">About</a>
          </li>
          <li class="nav-item mx-4">
            <a class="nav-link" href="../resume">Resume</a>
          </li>
          <li class="nav-item mx-4">
            <a class="nav-link" href="../work">Work</a>
          </li>
          <li class="nav-item mx-4">
            <a class="nav-link active" aria-current="page" href="../projects">Projects</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="projects-container">
    <h1 class="projects-header">Projects</h1>
    <div class="socials">
      <a href="mailto:mwm223@cornell.edu" class="social-icon" target="_blank" rel="noopener noreferrer">
        <img src="../assets/icons/email.png" alt="Email" />
      </a>
      <a href="https://www.linkedin.com/in/matthew-mcauley-b48983251/" class="social-icon" target="_blank" rel="noopener noreferrer">
        <img src="../assets/icons/linkedin.png" alt="LinkedIn" />
      </a>
      <a href="https://github.com/matt-mcauley" class="social-icon" target="_blank" rel="noopener noreferrer">
        <img src="../assets/icons/github.png" alt="GitHub" />
      </a>
    </div>
    <div class="project-cards"></div>
  </div>
</div>

  <script src="../bootstrap.bundle.js"></script>
</body>
<script type="module" defer>
  import cards from './data.js';
  const projectCardsContainer = document.querySelector('.project-cards');
  cards.forEach(card => {
    const cardElement = document.createElement('div');
    cardElement.className = 'project-card';
    cardElement.innerHTML = `
      <img src="../assets/projects/${card.image}" alt="${card.title}" class="project-image" />
      <div class="project-info">
        <div class="project-text">
          <h3>${card.title}</h3>
          <p>${card.description}</p>
        </div>
        <div class="info-bar">
            <div class="tech"></div>
            <div class="links"></div>
        </div>
      </div>
    `;
    if (card.has_github) {
      const githubLink = document.createElement('a');
      githubLink.href = card.github_link;
      githubLink.target = '_blank';
      githubLink.rel = 'noopener noreferrer';
      const githubIcon = document.createElement('img');
      githubIcon.src = '../assets/icons/github.png';
      githubLink.className = 'github-link';
      githubLink.appendChild(githubIcon);
      cardElement.querySelector('.links').appendChild(githubLink);
    }

    if (card.has_demo) {
      const demoLink = document.createElement('a');
      demoLink.href = card.demo_link;
      demoLink.target = '_blank';
      demoLink.rel = 'noopener noreferrer';
      const demoIcon = document.createElement('img');
      demoIcon.src = '../assets/icons/link.svg';
      demoLink.className = 'demo-link';
      demoLink.appendChild(demoIcon);
      cardElement.querySelector('.links').appendChild(demoLink);
    }

    if (!card.has_github && !card.has_demo) {
      cardElement.querySelector('.links').style.display = 'none';
    }

    const techContainer = cardElement.querySelector('.tech');
    card.icons.forEach(tech_icon => {
      const techIcon = document.createElement('img');
      techIcon.src = `../assets/icons/${tech_icon}`;
      techIcon.alt = "Icon";
      techIcon.className = 'tech-icon';
      techContainer.appendChild(techIcon);
    });
    projectCardsContainer.appendChild(cardElement);
  });
</script>
</html>
